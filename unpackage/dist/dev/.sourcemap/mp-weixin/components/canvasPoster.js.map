{"version":3,"sources":["webpack:///D:/宾果智造项目管理/车检服务/components/canvasPoster.vue?26d7","webpack:///D:/宾果智造项目管理/车检服务/components/canvasPoster.vue?208c","webpack:///D:/宾果智造项目管理/车检服务/components/canvasPoster.vue?ae09","webpack:///D:/宾果智造项目管理/车检服务/components/canvasPoster.vue?8749","webpack:///D:/宾果智造项目管理/车检服务/components/canvasPoster.vue","webpack:///D:/宾果智造项目管理/车检服务/components/canvasPoster.vue?91c7","webpack:///D:/宾果智造项目管理/车检服务/components/canvasPoster.vue?0088"],"names":["props","img","type","String","default","text","code","saveCallback","Function","closeCallback","data","ctx","canvasW","canvasH","mounted","methods","draw","uni","getSystemInfo","err","safeArea","height","width","createCanvasContext","getImageInfo","src","error","setFillStyle","fillRect","drawImage","path","er","beginPath","setFontSize","setTextBaseline","fillText","hideLoading","saveposter","canvasToTempFilePath","x","y","canvasId","saveImageToPhotosAlbum","filePath","tempFilePath","save"],"mappings":"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","file":"components/canvasPoster.js","sourcesContent":["import { render, staticRenderFns } from \"./canvasPoster.vue?vue&type=template&id=5e6e25d0&scoped=true&\"\nimport script from \"./canvasPoster.vue?vue&type=script&lang=js&\"\nexport * from \"./canvasPoster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./canvasPoster.vue?vue&type=style&index=0&id=5e6e25d0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e6e25d0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\下载\\\\HBuilderX.2.2.2.20190816\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5e6e25d0', component.options)\n    } else {\n      api.reload('5e6e25d0', component.options)\n    }\n    module.hot.accept(\"./canvasPoster.vue?vue&type=template&id=5e6e25d0&scoped=true&\", function () {\n      api.rerender('5e6e25d0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"宾果智造项目管理/车检服务/components/canvasPoster.vue\"\nexport default component.exports","export * from \"-!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./canvasPoster.vue?vue&type=template&id=5e6e25d0&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./canvasPoster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./canvasPoster.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tprops:{\n\t\timg: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\ttext:{\n\t\t\ttype:String,\n\t\t\tdefault:'xxx'\n\t\t},\n\t\tcode:{\n\t\t\ttype:String,\n\t\t\tdefault: ''\n\t\t},\n\t\tsaveCallback:{\n\t\t\ttype:Function\n\t\t},\n\t\tcloseCallback:{\n\t\t\ttype:Function\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tctx: null,\n\t\t\tcanvasW: 0,\n\t\t\tcanvasH: 0,\n\t\t};\n\t},\n\tmounted() {\n\t\t\n\t},\n\t\t\n\tmethods: {\n\t\tasync draw(){\n\t\t\tlet [err, getSystemInfo] = await uni.getSystemInfo()\n\t\t\tthis.canvasH = getSystemInfo.safeArea.height * 0.8\n\t\t\tthis.canvasW = getSystemInfo.safeArea.width * 0.8\n\t\t\tthis.ctx = uni.createCanvasContext('posterPop', this)\n\t\t\tlet [error, getImageInfo] = await uni.getImageInfo({\n\t\t\t\tsrc: this.img\n\t\t\t})\n\t\t\t// 绘制背景\n\t\t\tthis.ctx.setFillStyle('#fff')\n\t\t\tthis.ctx.fillRect(0, 0, this.canvasW, this.canvasH)\n\t\t\t// 绘制上面图片\n\t\t\tthis.ctx.drawImage(getImageInfo.path, 0, 0, this.canvasW, this.canvasH * 0.8)\n\t\t\t//绘制二维码\n\t\t\tlet [er, code] = await uni.getImageInfo({\n\t\t\t\tsrc: this.code\n\t\t\t})\n\t\t\tthis.ctx.drawImage(code.path, 0, this.canvasH * 0.8 + (this.canvasH * 0.2 - 90) / 2, 90, 90)\n\t\t\tthis.ctx.beginPath()\n\t\t\tthis.ctx.setFillStyle('#000')\n\t\t\t// 右边分享文字 \n\t\t\tthis.ctx.setFontSize(16)\n\t\t\tthis.ctx.setTextBaseline('middle')\n\t\t\tthis.ctx.fillText(this.text,this.canvasW*0.4, this.canvasH * 0.9)\n\t\t\tthis.ctx.draw(true)\n\t\t\tuni.hideLoading()\n\t\t},\n\t\t\n\t\t//保存海报\n\t\tasync saveposter() {\n\t\t\t//导出画布内容\n\t\t\tlet [error, data] = await uni.canvasToTempFilePath({\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: this.canvasW,\n\t\t\t\theight: this.canvasH,\n\t\t\t\tcanvasId: 'posterPop',\n\t\t\t})\n\t\t\tlet [err, save] = await uni.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: data.tempFilePath,\n\t\t\t})\n\t\t\tif (!err) {\n\t\t\t\t// 返回保存结果\n\t\t\t\treturn this.saveCallback(1)\n\t\t\t}\n\t\t\t// 返回保存结果\n\t\t\treturn this.saveCallback(0)\n\t\t\t\n\t\t},\n\n\n\t}\n}\n","import mod from \"-!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./canvasPoster.vue?vue&type=style&index=0&id=5e6e25d0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./canvasPoster.vue?vue&type=style&index=0&id=5e6e25d0&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}