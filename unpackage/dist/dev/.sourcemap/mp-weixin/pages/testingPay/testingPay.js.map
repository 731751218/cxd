{"version":3,"sources":["webpack:///D:/宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue?f7f2","webpack:///D:/宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue?1156","webpack:///D:/宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue","webpack:///D:/宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue?06f7","webpack:///D:/宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue?c9a6","webpack:///D:/宾果智造项目管理/车检服务/main.js","webpack:///D:/宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue?171f","webpack:///D:/宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue?1e50"],"names":["components","luPopupWrapper","uniCalendar","licensePlateKey","anLayer","data","address","dataTime","msg","name","phone","carnumber","type","isaddress","testing_id","price","settime","methods","getPhoneNumber","e","uni","login","provider","err","code","detail","encryptedData","iv","ajax","api","getPhone","res","console","log","showToast","title","duration","icon","onCalendar","$refs","calendar","open","fulldate","onMap","chooseLocation","success","pay","wx","requestSubscribeMessage","JSON","stringify","getApp","globalData","messageTemplateId","testing_message_template_id","tmplIds","trim","toBind","length","test","testingPay","datatime","order_id","parse","payinfo","return_code","showModal","content","return_msg","showCancel","appId","appid","timeStamp","parseFloat","toString","pkg","prepay_id","nonceStr","nonce_str","sign","paySign","MD5Util","MD5","apikey","requestPayment","package","signType","anRef","show","setTimeout","reLaunch","url","fail","complete","hideLoading","onLoad","options","setNavigationBarTitle","onUnload","clearTimeout","createPage","Page"],"mappings":"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","file":"pages/testingPay/testingPay.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./testingPay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./testingPay.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport luPopupWrapper from \"@/components/lu-popup-wrapper/lu-popup-wrapper.vue\"\n\timport licensePlateKey from '@/components/license-plate-key'\n\timport uniCalendar from '@/components/uni-calendar/uni-calendar.vue'\n\timport MD5Util from '@/common/md5.js'\nimport anLayer from '@/components/an-layer/an-layer'\n\texport default {\n\t\tcomponents: {\n\t\t\tluPopupWrapper,\n\t\t\tuniCalendar,\n\t\t\tlicensePlateKey,\n\t\t\tanLayer\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\taddress: '', //取车地址\n\t\t\t\tdataTime: '打开日历选择审车日期',\n\t\t\t\tmsg: '', //备注信息\n\t\t\t\tname: '', //联系人\n\t\t\t\tphone: '', //电话\n\t\t\t\tcarnumber: '', //车牌号\n\t\t\t\ttype: null, //审车类型 1=代驾 2=预约\n\t\t\t\tisaddress: true,\n\t\t\t\ttesting_id: null, //检测站id\n\t\t\t\tprice: '', //支付金额\n\t\t\t\tsettime: null,\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\t\n\t\t\t//获取手机号信息\n\t\t\tasync getPhoneNumber(e) {\n\t\t\t\tlet [err, code] = await uni.login({\n\t\t\t\t\tprovider: 'weixin'\n\t\t\t\t})\n\t\t\t\n\t\t\t\tif (e.detail.encryptedData && e.detail.iv) {\n\t\t\t\t\tlet res = await this.ajax(this.api.getPhone, {\n\t\t\t\t\t\tcode: code.code,\n\t\t\t\t\t\tiv: e.detail.iv,\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData\n\t\t\t\t\t}, 'POST')\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\tif (res.data.data != 'null') {\n\t\t\t\t\t\t\tconsole.log('获取手机号成功!')\n\t\t\t\t\t\t\tconsole.log(res.data.data)\n\t\t\t\t\t\t\tthis.phone=res.data.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '获取手机号失败,请重试',\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// 打开日历\n\t\t\tonCalendar() {\n\t\t\t\tthis.$refs.calendar.open()\n\t\t\t},\n\t\t\t//日历改变\n\t\t\tcalendar(e) {\n\t\t\t\tconsole.log(e.fulldate)\n\t\t\t\tthis.dataTime = e.fulldate\n\t\t\t},\n\t\t\tonMap() {\n\t\t\t\tuni.chooseLocation({\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.address = res.address\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 支付\n\t\t\tasync pay() {\n\t\t\t\t\n\t\t\t\t//订阅消息(先判断用户微信是否支持订阅消息)\n\t\t\t\tif(wx.requestSubscribeMessage){\n\t\t\t\t\tif(JSON.stringify(getApp().globalData.messageTemplateId)!='{}'){\n\t\t\t\t\t\tconsole.log('开始订阅!!')\n\t\t\t\t\t\tlet testing_message_template_id = getApp().globalData.messageTemplateId.testing_message_template_id\n\t\t\t\t\t\twx.requestSubscribeMessage({\n\t\t\t\t\t\t  tmplIds: [testing_message_template_id],\n\t\t\t\t\t\t  success :(res)=>{\n\t\t\t\t\t\t\t  uni.showToast({\n\t\t\t\t\t\t\t  \ttitle: '订阅成功!',\n\t\t\t\t\t\t\t  \ticon: 'none',\n\t\t\t\t\t\t\t  \tduration: 2000\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet {\n\t\t\t\t\tname,\n\t\t\t\t\tphone,\n\t\t\t\t\tdataTime,\n\t\t\t\t\ttype,\n\t\t\t\t\tmsg,\n\t\t\t\t\ttesting_id,\n\t\t\t\t\tprice,\n\t\t\t\t\taddress,\n\t\t\t\t} = this\n\t\t\t\tname = name.trim()\n\t\t\t\tlet carnumber = this.$refs.licensePlateKey.toBind()\n\t\t\t\tif (carnumber) {\n\t\t\t\t\tif (!name.length) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请输入联系人',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn false\n\t\t\t\t\t} else if (!(/^1[3456789]\\d{9}$/.test(phone))) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请输入有效的手机号',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn false\n\t\t\t\t\t} else if (dataTime == '打开日历选择审车日期') {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请打开日历选择审车日期',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\tif (type == 1) {\n\t\t\t\t\t\tlet address = this.address.trim()\n\t\t\t\t\t\tif (!address.length) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '请填写详细的取车地址',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 可以下单\n\t\t\t\t\tconsole.log('可以下单')\n\t\t\t\t\tlet res = await this.ajax(this.api.testingPay, {\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tphone,\n\t\t\t\t\t\tcarnumber,\n\t\t\t\t\t\tmsg,\n\t\t\t\t\t\ttesting_id,\n\t\t\t\t\t\tprice,\n\t\t\t\t\t\taddress,\n\t\t\t\t\t\tdatatime: dataTime\n\t\t\t\t\t}, 'POST')\n\t\t\t\t\tlet order_id = res.data.data.order_id\n\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\tlet data = JSON.parse(res.data.data.payinfo)\n\t\t\t\t\t\tif (data.return_code == 'FAIL') {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\tcontent: data.return_msg,\n\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet appId = data.appid\n\t\t\t\t\t\tlet timeStamp = parseFloat(data.timeStamp).toString()\n\t\t\t\t\t\tlet pkg = 'prepay_id=' + data.prepay_id\n\t\t\t\t\t\tlet nonceStr = data.nonce_str\n\t\t\t\t\t\tlet sign = data.sign\n\t\t\t\t\t\tlet paySign = MD5Util.MD5('appId=' + appId + '&nonceStr=' + nonceStr + '&package=' + pkg +\n\t\t\t\t\t\t\t'&signType=MD5&timeStamp=' + timeStamp + \"&key=\" + data.apikey)\n\t\t\t\t\t\tuni.requestPayment({\n\t\t\t\t\t\t\tprovider: 'wxpay',\n\t\t\t\t\t\t\ttimeStamp: timeStamp,\n\t\t\t\t\t\t\tnonceStr: nonceStr,\n\t\t\t\t\t\t\tpackage: pkg,\n\t\t\t\t\t\t\tsignType: 'MD5',\n\t\t\t\t\t\t\tpaySign: paySign,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tthis.$refs.anRef.show(\"支付成功！\", {\n\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.settime = setTimeout(() => {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '../testingOrder/testingOrder'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tthis.$refs.anRef.show(\"支付失败！\", {\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// uni.showModal({\n\t\t\t\t\t\t//     title: '提示',\n\t\t\t\t\t\t//     content: res.data.msg,\n\t\t\t\t\t\t//     showCancel:false\n\t\t\t\t\t\t// })\n\t\t\t\t\t\t// //删除该订单\n\t\t\t\t\t\t// this.ajax(this.api.deleteTestingOrder,{\n\t\t\t\t\t\t// \torder_id\n\t\t\t\t\t\t// },'POST')\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请输入车牌号',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tconsole.log(options)\n\t\t\tthis.type = options.type\n\t\t\tlet title = ''\n\t\t\tswitch (options.type) {\n\t\t\t\tcase '1':\n\t\t\t\t\ttitle = '代驾审车下单'\n\t\t\t\t\tbreak\n\t\t\t\tcase '2':\n\t\t\t\t\ttitle = '预约审车下单'\n\t\t\t\t\tthis.isaddress = false\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle\n\t\t\t})\n\t\t\tthis.price = options.price\n\t\t\tthis.testing_id = options.testing_id\n\t\t},\n\t\tonUnload() {\n\t\t\tclearTimeout(this.settime)\n\t\t}\n\t}\n","import mod from \"-!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./testingPay.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./testingPay.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';\n\nimport Vue from 'vue'            \nimport Page from './pages/testingPay/testingPay.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./testingPay.vue?vue&type=template&id=2ad33516&\"\nimport script from \"./testingPay.vue?vue&type=script&lang=js&\"\nexport * from \"./testingPay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./testingPay.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\下载\\\\HBuilderX.2.2.2.20190816\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2ad33516', component.options)\n    } else {\n      api.reload('2ad33516', component.options)\n    }\n    module.hot.accept(\"./testingPay.vue?vue&type=template&id=2ad33516&\", function () {\n      api.rerender('2ad33516', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"宾果智造项目管理/车检服务/pages/testingPay/testingPay.vue\"\nexport default component.exports","export * from \"-!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../下载/HBuilderX.2.2.2.20190816/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./testingPay.vue?vue&type=template&id=2ad33516&\""],"sourceRoot":""}